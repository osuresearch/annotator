"use strict";(self.webpackChunk_osuresearch_annotator=self.webpackChunk_osuresearch_annotator||[]).push([[274],{"./src/components/Screenshot/Screenshot.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Simple:()=>Simple,__namedExportsOrder:()=>__namedExportsOrder,default:()=>Screenshot_stories});var react=__webpack_require__("./node_modules/react/index.js"),html2canvas=__webpack_require__("./node_modules/html2canvas/dist/html2canvas.js"),html2canvas_default=__webpack_require__.n(html2canvas),index_module=__webpack_require__("./node_modules/@osuresearch/ui/dist/index.module.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function Screenshot({}){const ref=(0,react.useRef)(null);return(0,jsx_runtime.jsxs)("div",{ref,children:[(0,jsx_runtime.jsx)(index_module.X6,{level:1,children:"Aliquam scelerisque mauris non aliquet iaculis."}),(0,jsx_runtime.jsx)(index_module.xv,{as:"p",fw:"bold",children:"Vivamus fringilla velit arcu"}),(0,jsx_runtime.jsx)(index_module.X6,{level:2,children:"Ut pulvinar lacus id ipsum maximus convallis."}),(0,jsx_runtime.jsx)(index_module.xv,{as:"p",children:"Suspendisse tellus dui, ullamcorper vel laoreet et, condimentum ut justo. Nunc in tortor non arcu suscipit vestibulum at nec neque."}),(0,jsx_runtime.jsx)(index_module.zx,{onPress:()=>{document.querySelector("body");ref.current&&html2canvas_default()(ref.current).then((canvas=>{ref.current?.appendChild(canvas)}))},children:"Capture"})]})}Screenshot.displayName="Screenshot";try{Screenshot.displayName="Screenshot",Screenshot.__docgenInfo={description:"",displayName:"Screenshot",props:{__noop:{defaultValue:null,description:"",name:"__noop",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Screenshot/Screenshot.tsx#Screenshot"]={docgenInfo:Screenshot.__docgenInfo,name:"Screenshot",path:"src/components/Screenshot/Screenshot.tsx#Screenshot"})}catch(__react_docgen_typescript_loader_error){}var AnnotationsProvider=__webpack_require__("./src/components/AnnotationsProvider/AnnotationsProvider.tsx");const Screenshot_stories={title:"Components/Screenshot",component:Screenshot,argTypes:{}},demoAgent={type:"Person",id:"0123456",name:"Chase",email:"mcmanning.1@osu.edu",nickname:"mcmanning.1"},Simple={render:args=>(0,jsx_runtime.jsx)(AnnotationsProvider.g,{agent:demoAgent,role:"A11Y Reviewer",children:(0,jsx_runtime.jsx)(Screenshot,{...args})}),args:{}};Simple.parameters={...Simple.parameters,docs:{...Simple.parameters?.docs,source:{originalSource:'{\n  render: args => <AnnotationsProvider agent={demoAgent} role="A11Y Reviewer">\n      <Screenshot {...args} />\n    </AnnotationsProvider>,\n  args: {}\n}',...Simple.parameters?.docs?.source}}};const __namedExportsOrder=["Simple"]},"./src/components/AnnotationsProvider/AnnotationsProvider.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{g:()=>AnnotationsProvider});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_hooks_useAnnotations__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/hooks/useAnnotations.ts"),_hooks_useAnnotationPicker__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/hooks/useAnnotationPicker.ts"),_hooks_useEditors__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/hooks/useEditors.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");function AnnotationsProvider({documentId,children,initialItems,agent,role}){const ctx=(0,_hooks_useAnnotations__WEBPACK_IMPORTED_MODULE_2__.O)(documentId,initialItems,agent,role),editors=(0,_hooks_useEditors__WEBPACK_IMPORTED_MODULE_3__.w)(),[selected,select]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(),selectionCtx=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>({select,selected,deselect:()=>select(void 0)})),[selected]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_hooks_useAnnotations__WEBPACK_IMPORTED_MODULE_2__._.Provider,{value:ctx,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_hooks_useEditors__WEBPACK_IMPORTED_MODULE_3__._.Provider,{value:editors,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_hooks_useAnnotationPicker__WEBPACK_IMPORTED_MODULE_4__._.Provider,{value:selectionCtx,children})})})}AnnotationsProvider.displayName="AnnotationsProvider";try{AnnotationsProvider.displayName="AnnotationsProvider",AnnotationsProvider.__docgenInfo={description:"Thin wrapper around the useAnnotations hook.",displayName:"AnnotationsProvider",props:{documentId:{defaultValue:null,description:"Unique IRI of the document being annotated",name:"documentId",required:!0,type:{name:"string"}},initialItems:{defaultValue:null,description:"Initial annotation instances to display",name:"initialItems",required:!1,type:{name:"Annotation[]"}},agent:{defaultValue:null,description:"The agent to use for newly created annotations",name:"agent",required:!0,type:{name:"AnnotationAgent"}},role:{defaultValue:null,description:"The role for the agent. This is heavily dependent\non the context in which the annotator is used.\n\nFor forms, this could be `Submitter`, `Reviewer`,\n`Analyst`, etc. Roles may also represent individual's\nrelationship to the submission, such as a `Principal Investigator`\nversus a `Co-Investigator` on a study.",name:"role",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/AnnotationsProvider/AnnotationsProvider.tsx#AnnotationsProvider"]={docgenInfo:AnnotationsProvider.__docgenInfo,name:"AnnotationsProvider",path:"src/components/AnnotationsProvider/AnnotationsProvider.tsx#AnnotationsProvider"})}catch(__react_docgen_typescript_loader_error){}},"./src/hooks/useAnnotationPicker.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{_:()=>Context,i:()=>useAnnotationPicker});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const Context=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({});function useAnnotationPicker(){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(Context)}},"./src/hooks/useAnnotations.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{O:()=>useAnnotations,_:()=>Context});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),uuid__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/uuid/dist/esm-browser/v4.js"),react_stately__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@react-stately/data/dist/import.mjs");const Context=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({});function useAnnotations(documentId,initialItems=[],agent,role){const{items,selectedKeys,getItem,append,update,setSelectedKeys}=(0,react_stately__WEBPACK_IMPORTED_MODULE_1__.SH)({initialItems,getKey:anno=>anno.id}),[isEditingComment,setIsEditingComment]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>{const focusedAnnotationID=selectedKeys.values().next().value;return{annotations:items,focused:focusedAnnotationID?getItem(focusedAnnotationID):void 0,isEditingComment,setIsEditingComment,focus(id){setSelectedKeys(new Set(id?[id]:[]))},createThread(motivation,selector,annotationId){const now=(new Date).toISOString(),anno={"@context":"http://www.w3.org/ns/anno.jsonld",type:"Annotation",id:annotationId??(0,uuid__WEBPACK_IMPORTED_MODULE_2__.Z)(),motivation,created:now,modified:now,creator:agent,target:{id:documentId,selector},body:[{type:"TextualBody",value:"",format:"text/html",language:"en"},{type:"Thread",role,requiresResponse:!1,resolved:!1,deleted:!1,recoverable:!0}]};return append(anno),setSelectedKeys(new Set([anno.id])),anno},createReply(threadAnnotationId,message,replyAnnotationId){const now=(new Date).toISOString(),anno={"@context":"http://www.w3.org/ns/anno.jsonld",type:"Annotation",id:replyAnnotationId??(0,uuid__WEBPACK_IMPORTED_MODULE_2__.Z)(),motivation:"replying",created:now,modified:now,creator:agent,target:{id:threadAnnotationId},body:[{type:"TextualBody",value:message,format:"text/html",language:"en"},{type:"ThreadReply",role,deleted:!1,recoverable:!0}]};return append(anno),anno},patch(id,action){const anno=getItem(id);update(id,action(anno))},updateBody:(type,id,action)=>{const anno=getItem(id);update(id,{...anno,body:anno.body.map((b=>b.type===type?action(b):b))})}}}),[items,documentId,isEditingComment,selectedKeys,agent,role])}},"./src/hooks/useEditors.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{_:()=>Context,w:()=>useEditors});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const Context=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({});function useEditors(){const[hasActiveEditor,setActiveEditor]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1);return{hasActiveEditor,setActiveEditor}}}}]);